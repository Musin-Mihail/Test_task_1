# **Проект "Боевая анимация" для Unity**

## **Описание**

Этот проект представляет собой прототип боевой системы от третьего лица в Unity. Он демонстрирует продвинутую систему анимации персонажа, включая передвижение, взаимодействие с окружением и механику "добивания" (Finisher) противников. В проекте активно используется конечный автомат (FSM) для управления состояниями игрока и внедрение зависимостей с помощью Zenject для гибкой и масштабируемой архитектуры.


## **Основные возможности**

- **Управление персонажем от третьего лица:** Плавное передвижение и вращение персонажа относительно камеры.

- **Система состояний игрока (FSM):**

* **Idle (Ожидание):** Персонаж находится в состоянии покоя.

* **Run (Бег):** Персонаж передвигается по сцене.

* **Approaching (Приближение):** Персонаж движется к противнику для выполнения добивания.

* **Finishing (Добивание):** Персонаж выполняет анимацию добивания.

- **Механика добивания:**

* Когда игрок находится рядом с противником, появляется возможность выполнить добивание.

* При нажатии кнопки игрок приближается к цели и запускает специальную анимацию.

* Во время добивания происходит переключение оружия.

- **Управление противниками:**

* Противники могут быть "убиты" с помощью добивания.

* После смерти противник возрождается (respawn) через некоторое время в случайной точке рядом с игроком.

- **Гибкая конфигурация:** Игровые параметры, такие как скорость игрока, настройки камеры и параметры добивания, вынесены в ScriptableObject для удобной настройки.

- **Система сигналов:** Использование Zenject SignalBus для слабой связи между компонентами системы.


## **Технологии и архитектура**

- **Движок:** Unity 2020+

- **Внедрение зависимостей (DI):** [Zenject](https://github.com/modesttree/Zenject) используется для управления зависимостями и создания слабосвязанной архитектуры.

- **Управление вводом:** Unity Input System.

- **Паттерны проектирования:**

* **Конечный автомат (State Machine/FSM):** Для управления логикой состояний игрока.

* **Сигнализация (Signal Bus):** Для взаимодействия между различными системами.

* **Фасад (Facade):** Упрощает доступ к компонентам игрока.

* **Стратегия (Strategy):** Различные состояния FSM представляют собой разные стратегии поведения.


## **Структура проекта**

Код проекта организован в следующие основные пространства имен и папки:

- Animation.Scripts.Common: Общие классы, такие как GameManager и CoroutineRunner.

- Animation.Scripts.Configs: ScriptableObject'ы для хранения настроек игры (камера, движение, враги и т.д.).

- Animation.Scripts.Constants: Константы, используемые в проекте (имена анимаций, событий).

- Animation.Scripts.Enemy: Логика, связанная с поведением противников, включая их возрождение и обработку добиваний.

- Animation.Scripts.FSM: Реализация конечного автомата для игрока, включая все состояния (PlayerIdleState, PlayerRunState и др.).

- Animation.Scripts.Installers: Zenject-инсталлеры для связывания зависимостей на разных уровнях (игровом, проектном, для игрока и врага).

- Animation.Scripts.Player: Вся логика, связанная с игроком: управление движением, вращением, анимацией, экипировкой и вводом.

- Animation.Scripts.Signals: Определение всех сигналов, используемых в Zenject SignalBus для коммуникации между системами.


**Управление:**

- **Передвижение:** WASD

- **Добивание:** Клавиша Space (по-умолчанию, можно изменить в PlayerInputActions).

- **Выход из игры:** Клавиша Escape.
